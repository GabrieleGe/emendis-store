import{a as y}from"./chunk-TEFZ2GE2.js";import{a as S}from"./chunk-R6QUJQID.js";import{D as f,G as C,L as _,P as g,Q as v,R as i,S as o,U as P,V as d,W as h,aa as a,ia as x,r as p,s as u,t as l,xa as T,z as m}from"./chunk-364TS2HA.js";var M=(r,t)=>t.id;function O(r,t){if(r&1){let e=P();i(0,"app-product-card",5),d("add",function(s){u(e);let c=h();return l(c.addToCart(s))}),o()}if(r&2){let e=t.$implicit;_("product",e)}}function w(r,t){r&1&&(i(0,"p"),a(1,"No products found."),o())}var L=class r{searchTermSignal=m("");productService=p(S);cartService=p(T);filteredProducts=x(()=>{let t=this.searchTermSignal().toLowerCase(),e=this.productService.products();return t?e.filter(n=>n.title.toLowerCase().includes(t)||n.description.toLowerCase().includes(t)||n.category.toLowerCase().includes(t)):e});ngOnInit(){this.productService.fetchProducts().subscribe()}updateSearchTerm(t){let e=t.target.value;this.searchTermSignal.set(e)}addToCart(t){this.cartService.addToCart(t)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-product-list"]],decls:9,vars:1,consts:[[1,"product-list-container"],[1,"flex"],["type","text","placeholder","Search products...",1,"filter-input",3,"input"],[1,"products-grid"],[3,"product"],[3,"add","product"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"All Products"),o(),i(4,"input",2),d("input",function(c){return n.updateSearchTerm(c)}),o()(),i(5,"div",3),g(6,O,1,1,"app-product-card",4,M,!1,w,2,0,"p"),o()()),e&2&&(f(6),v(n.filteredProducts()))},dependencies:[y],styles:[".product-list-container[_ngcontent-%COMP%]{padding:20px}.product-list-container[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:space-between;display:flex;align-items:baseline}.product-list-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:40px;border-radius:8px;border:1px solid;padding:0 8px}.product-list-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}"],changeDetection:0})};export{L as ProductListComponent};
