import{a as L}from"./chunk-PDUT2TSR.js";import{a as T}from"./chunk-5UIAPROG.js";import{D as C,G as _,L as g,P as v,Q as P,R as i,S as o,U as h,V as d,W as x,aa as a,h as u,ia as S,r as p,s as l,t as m,xa as y,z as f}from"./chunk-SDJSCC6F.js";var O=(r,t)=>t.id;function w(r,t){if(r&1){let e=h();i(0,"app-product-card",5),d("add",function(s){l(e);let c=x();return m(c.addToCart(s))}),o()}if(r&2){let e=t.$implicit;g("product",e)}}function b(r,t){r&1&&(i(0,"p"),a(1,"No products found."),o())}var M=class r{searchTermSignal=f("");productService=p(T);cartService=p(y);filteredProducts=S(()=>{let t=this.searchTermSignal().toLowerCase(),e=this.productService.products();return t?e.filter(n=>n.title.toLowerCase().includes(t)||n.description.toLowerCase().includes(t)||n.category.toLowerCase().includes(t)):e});ngOnInit(){this.productService.fetchProducts().pipe(u(1)).subscribe()}updateSearchTerm(t){let e=t.target.value;this.searchTermSignal.set(e)}addToCart(t){this.cartService.addToCart(t)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-product-list"]],decls:9,vars:1,consts:[[1,"product-list-container"],[1,"flex"],["type","text","placeholder","Search products...",1,"filter-input",3,"input"],[1,"products-grid"],[3,"product"],[3,"add","product"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"All Products"),o(),i(4,"input",2),d("input",function(c){return n.updateSearchTerm(c)}),o()(),i(5,"div",3),v(6,w,1,1,"app-product-card",4,O,!1,b,2,0,"p"),o()()),e&2&&(C(6),P(n.filteredProducts()))},dependencies:[L],styles:[".product-list-container[_ngcontent-%COMP%]{padding:20px}.product-list-container[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:space-between;display:flex;align-items:baseline}.product-list-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:40px;border-radius:8px;border:1px solid;padding:0 8px}.product-list-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}"],changeDetection:0})};export{M as ProductListComponent};
